# This file is only used to build images.
# Kubernetes is used to actually run the containers.

version: '3.7'

services:
  client:
    build: ./client
    image: vp/client:latest

  client-release:
    build:
      context: './client'
      dockerfile: Dockerfile-release
      args:
        ENDPOINT: http://localhost:31003
    image: vp/client-release:latest

  server:
    build: ./server
    image: vp/server:latest

  server-release:
    build:
      context: ./server
      dockerfile: Dockerfile-release
    image: vp/server-release:latest
